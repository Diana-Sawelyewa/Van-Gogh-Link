(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{fetch("catalog.json").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{!function(e){const t=document.querySelector(".grid");t.innerHTML="",e.forEach((e=>{const i=document.createElement("div");i.classList.add("grid__item"),e.sale?i.innerHTML=`<div class="pic" style="background: url(public/img/${e.pic}) center center / cover no-repeat;"><a class="promotion white-font flex button-black">Акция</a><a class="details flex button-orange">Подробнее</a></div><div class="text"><div class="name">${e.name}</div><div class="price"><div class="main-price orange-font">${e.price1} ₽</div><div class="last-price">${e.price2}  ₽</div></div></div>`:i.innerHTML=`<div class="pic" style="background: url(public/img/${e.pic}) center center / cover no-repeat;"><a class="details flex button-orange">Подробнее</a></div><div class="text"><div class="name">${e.name}</div><div class="price"><div class="main-price">${e.price1} ₽</div></div></div>`,t.appendChild(i)}))}(e)})).catch((e=>{console.error("There was a problem with the fetch operation:",e)})),function(){const e=document.querySelector(".circle");e.innerHTML="",e.innerHTML="3"}(),function(){const e=document.querySelector(".sidebar"),t=document.querySelector(".burger");function i(){e.classList.contains("active")?(window.addEventListener("wheel",n,{passive:!1}),window.addEventListener("touchmove",n,{passive:!1})):(window.removeEventListener("wheel",n,{passive:!1}),window.removeEventListener("touchmove",n,{passive:!1}))}function n(e){e.preventDefault()}e.querySelectorAll("a").forEach((n=>{n.addEventListener("click",(()=>{e.classList.remove("active"),t.classList.remove("active"),i()}))})),t.addEventListener("click",(function(){e.classList.toggle("active"),t.classList.toggle("active"),i()})),document.addEventListener("click",(function(n){e.contains(n.target)||t.contains(n.target)||(e.classList.remove("active"),t.classList.remove("active"),i())}))}()}))})();
